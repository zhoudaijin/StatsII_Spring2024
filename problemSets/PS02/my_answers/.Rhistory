ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- as.factor(climateSupport$countries)
climateSupport$sanctions <- as.factor(climateSupport$sanctions)
# 生成虚拟变量
dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
data <- as.data.frame(data)
# 重命名列名
colnames(data) <- c("choice", "countries20%", "countries80%", "countries160%", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
# 拟合逻辑回归模型
model <- glm(choice ~ ., data = data, family = binomial)
# 查看模型摘要
summary(model)
# load data
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- as.factor(climateSupport$countries)
climateSupport$sanctions <- as.factor(climateSupport$sanctions)
# 生成虚拟变量
dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
data <- as.data.frame(data)
# 重命名列名
colnames(data) <- c("choice", "countries20", "countries80", "countries160", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
# 拟合逻辑回归模型
model <- glm(choice ~ ., data = data, family = binomial)
# 查看模型摘要
summary(model)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- as.factor(climateSupport$countries)
climateSupport$sanctions <- as.factor(climateSupport$sanctions)
# 拟合逻辑回归模型
model <- glm(choice ~ countries + sanctions, data = climateSupport, family = binomial)
# 查看模型摘要
summary(model)
texreg(logistic_model)
install.packages("texreg")
library(texreg)
texreg(logistic_model)
summary(logistic_model)
# 结果中的截距项p值不够显著，怎么解释？
# Create LaTeX table for the model
texreg(logistic_model)
# load data
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- as.factor(climateSupport$countries)
climateSupport$sanctions <- as.factor(climateSupport$sanctions)
# 生成虚拟变量
dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
data <- as.data.frame(data)
# 重命名列名
colnames(data) <- c("choice", "countries20", "countries80", "countries160", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
# 拟合逻辑回归模型
logistic_model <- glm(choice ~ ., data = data, family = binomial)
# 查看模型摘要
summary(logistic_model)
# 结果中的截距项p值不够显著，怎么解释？
# Create LaTeX table for the model
texreg(logistic_model)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- as.factor(climateSupport$countries)
climateSupport$sanctions <- as.factor(climateSupport$sanctions)
# 生成虚拟变量
dummy_countries <- model.matrix( ~ unique(countries), data = climateSupport)
dummy_sanctions <- model.matrix( ~ unique(sanctions), data = climateSupport)
# 合并数据集
data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
head(data)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- as.factor(climateSupport$countries)
climateSupport$sanctions <- as.factor(climateSupport$sanctions)
# 生成虚拟变量
dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
data <- as.data.frame(data)
# 重命名列名
colnames(data) <- c("choice", "countries20", "countries80", "countries160", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
head(data)
# 拟合逻辑回归模型
logistic_model <- glm(choice ~ ., data = data, family = binomial)
climateSupport$countries <- relevel(climateSupport$countries, ref = "160 of 192")
# load data
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, TURE, levels = c("20 of 192", "80 of 192", "160 of 192"))
# load data
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = TURE, levels = c("20 of 192", "80 of 192", "160 of 192"))
# load data
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = TRUE, levels = c("20 of 192", "80 of 192", "160 of 192"))
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = TRUE, levels = c("None", "5%", "15%", "20%"))
# 生成虚拟变量
dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
data <- as.data.frame(data)
# 重命名列名
colnames(data) <- c("choice", "countries20", "countries80", "sanctionsNone", "sanctions5%", "sanctions15%")
head(data)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = TRUE, levels = c("20 of 192", "80 of 192", "160 of 192"))
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = TRUE, levels = c("None", "5%", "15%", "20%"))
# 生成虚拟变量
dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
data <- as.data.frame(data)
# 重命名列名
#colnames(data) <- c("choice", "countries20", "countries80", "160 of 192", "sanctionsNone", "sanctions5%", "sanctions15%")
head(data)
# 拟合逻辑回归模型
climateSupport$countries <- relevel(climateSupport$countries, ref = "160 of 192")
head(data)
# 拟合逻辑回归模型
# climateSupport$countries <- relevel(climateSupport$countries, ref = "160 of 192")
# climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "20%")
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = data)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = TRUE, levels = c("20 of 192", "80 of 192", "160 of 192"))
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = TRUE, levels = c("None", "5%", "15%", "20%"))
# 生成虚拟变量
dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
data <- as.data.frame(data)
# 重命名列名
#colnames(data) <- c("choice", "countries20", "countries80", "160 of 192", "sanctionsNone", "sanctions5%", "sanctions15%")
head(data)
# 拟合逻辑回归模型
# climateSupport$countries <- relevel(climateSupport$countries, ref = "160 of 192")
# climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "20%")
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = data)
colnames(data) <- c("choice", "countries20", "countries80", "countries160", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
head(data)
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = data)
colnames(data) <- c("choice", "countries20", "countries80", "countries160", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
head(data)
# 拟合逻辑回归模型
# climateSupport$countries <- relevel(climateSupport$countries, ref = "160 of 192")
# climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "20%")
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = data)
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = data)
# 查看模型摘要
summary(logistic_model)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = FALSE)
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = FALSE)
# 生成虚拟变量
#dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
#dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
#data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
#data <- as.data.frame(data)
# 重命名列名
#colnames(data) <- c("choice", "countries20", "countries80", "countries160", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
#head(data)
# 拟合逻辑回归模型
# climateSupport$countries <- relevel(climateSupport$countries, ref = "160 of 192")
# climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "20%")
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = climateSupport)
# 查看模型摘要
summary(logistic_model)
# load data
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = TRUE, levels = c("20 of 192", "80 of 192", "160 of 192"))
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = TRUE, levels = c("None", "5%", "15%", "20%")
# 生成虚拟变量
#dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
#dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
#data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
#data <- as.data.frame(data)
# 重命名列名
#colnames(data) <- c("choice", "countries20", "countries80", "countries160", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
#head(data)
# 拟合逻辑回归模型
# climateSupport$countries <- relevel(climateSupport$countries, ref = "160 of 192")
# climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "20%")
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = climateSupport)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = TRUE, levels = c("20 of 192", "80 of 192", "160 of 192"))
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = TRUE, levels = c("None", "5%", "15%", "20%")
# 生成虚拟变量
#dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
#dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
#data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
#data <- as.data.frame(data)
# 重命名列名
#colnames(data) <- c("choice", "countries20", "countries80", "countries160", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
#head(data)
# 拟合逻辑回归模型
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = climateSupport)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = FALSE)
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = FALSE)
# 生成虚拟变量
#dummy_countries <- model.matrix(~ countries - 1, data = climateSupport)
#dummy_sanctions <- model.matrix(~ sanctions - 1, data = climateSupport)
# 合并数据集
#data <- cbind(climateSupport$choice, dummy_countries, dummy_sanctions)
#data <- as.data.frame(data)
# 重命名列名
#colnames(data) <- c("choice", "countries20", "countries80", "countries160", "sanctionsNone", "sanctions5%", "sanctions15%", "sanctions20%")
#head(data)
# 拟合逻辑回归模型
# climateSupport$countries <- relevel(climateSupport$countries, ref = "160 of 192")
# climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "20%")
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = climateSupport)
# 查看模型摘要
summary(logistic_model)
# load data
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = FALSE)
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = FALSE)
# 拟合逻辑回归模型
climateSupport$countries <- relevel(climateSupport$countries, ref = "20 of 192")
climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "None")
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = climateSupport)
# 查看模型摘要
summary(logistic_model)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = FALSE)
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = FALSE)
# 拟合逻辑回归模型
climateSupport$countries <- relevel(climateSupport$countries, ref = "80 of 192")
climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "5%")
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = climateSupport)
# 查看模型摘要
summary(logistic_model)
# Create LaTeX table for the model
texreg(logistic_model)
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# 预览数据
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
## 转换数据格式
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
climateSupport$countries <- factor(climateSupport$countries, ordered = FALSE)
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = FALSE)
# 拟合逻辑回归模型
climateSupport$countries <- relevel(climateSupport$countries, ref = "20 of 192")
climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "None")
logistic_model <- glm(choice ~ ., family = binomial(link = "logit"), data = climateSupport)
# 查看模型摘要
summary(logistic_model)
a = -0.27266 + 0.64835*1 + 0.19186*1
a
a = -0.27266 + 0.64835*1 - 0.13325*1
a
delta = 0.24244 - 0.56755
delta
delta = 0.24244 - 0.56755
delta
exp(delta)
exp(-0.32511)
exp(0.56755)
exp(0.24244)
a = 1.274355-1.76394
a
a= -0.27266 + 0.33636
a
exp(0.0637)
delta = 0.24244 - 0.56755
delta
exp(-0.32511)
p_80 = 1/(1+exp(0.0637))
p_80
interaction_model <- glm(choice ~ countries * sanctions, family = binomial(link = "logit"), data = climateSupport)
# 使用anova()进行比较
anova_result <- anova(interaction_model, logistic_model, test = "Chi")
print(anova_result)
texreg(anova_result)
library(xtable)
install.packages("xtable")
library(xtable)
#将结果转换为 LaTeX 格式
latex_table <- xtable::xtable(summary(anova_result), caption = "ANOVA Results")
# 输出 LaTeX 代码
print(latex_table, caption.placement = "top", include.rownames = TRUE, caption.short = "ANOVA Results")
anova_results <- data.frame(
Model = c("Model 1", "Model 2"),
`Resid. Df` = c(8488, 8494),
`Resid. Dev` = c(11562, 11568),
Df = c("", -6),
Deviance = c("", -6.2928),
`Pr(>Chi)` = c("", 0.3912)
)
# 转换为 xtable 格式
latex_table <- xtable::xtable(anova_results, caption = "Analysis of Deviance Table")
# 输出 LaTeX 代码
print(latex_table, caption.placement = "top", include.rownames = TRUE, caption.short = "ANOVA Results")
p_80 = 1/(1+exp(-0.0637))
p_80
p_80 = exp(0.0637)/(1+exp(0.0637))
p_80
null_model <- glm(choice ~ 1,
data = climateSupport,
family = "binomial")
#  Run an anova test on the model compared to the null model
anova(null_model, model, test = "LRT")
# 创建一个包含 ANOVA 结果的数据框
result_table <- xtable(anova_result)
# 转换为 xtable 格式
print(result_table, include.rownames = FALSE)
print(anova_result)
# Create LaTeX table for the model
install.packages("xtable")
library(xtable)
# 创建一个包含 ANOVA 结果的数据框
result_table <- xtable(anova_result)
# 转换为 xtable 格式
print(result_table, include.rownames = FALSE)
print(anova_result)
# Create LaTeX table for the model
# 创建一个包含 ANOVA 结果的数据框
result_table_1 <- xtable(anova_result)
# 转换为 xtable 格式
print(result_table_1, include.rownames = FALSE)
print(anova_result)
anova_result_1 <- anova(null_model, model, test = "LRT")
#打印结果
print(anova_result_1)
# Create LaTeX table for the model
# 创建一个包含 ANOVA 结果的数据框
result_table_1 <- xtable(anova_result_1)
# 转换为 xtable 格式
print(result_table_1, include.rownames = FALSE)
print(anova_result_2)
anova_result_2 <- anova(interaction_model, model, test = "Chi")
#打印结果
print(anova_result_2)
# 创建一个包含 ANOVA 结果的数据框
result_table_2 <- xtable(anova_result_2)
# 转换为 xtable 格式
print(result_table_2, include.rownames = FALSE)
exp(delta)
log_odd_p_80 <- -0.27266 + 0.33636*1
# 记得写原公式，会给分
p_80 = 1/(1+exp(-log_odd_p_80))
p_80
p_80 = exp(log_odd_p_80)) / 1 + exp(log_odd_p_80))
p_80 = exp(log_odd_p_80) / 1 + exp(log_odd_p_80)
p_80
log_odd_p_80 <- -0.27266 + 0.33636*1
# According to the formula: P = exp(logit^(P/(1-P))/1+exp(logit^(P/(1-P))
p_80 = exp(log_odd_p_80) / 1 + exp(log_odd_p_80)
p_80
p_80 = exp(log_odd_p_80) / 1 + exp(log_odd_p_80)
p_80
log_odd_p_80 <- -0.27266 + 0.33636*1
log_odd_p_80
p_80 = exp(log_odd_p_80) / (1 + exp(log_odd_p_80))
p_80
print(result_table_1, include.rownames = FALSE)
# Convert to xtable format
print(result_table_2, include.rownames = FALSE)
texreg(model)
install.packages("texreg")
library(texreg)
install.packages("xtable")
library(xtable)
# load data
load(url("https://github.com/ASDS-TCD/StatsII_Spring2024/blob/main/datasets/climateSupport.RData?raw=true"))
load("/Users/daisy/Downloads/climateSupport.RData")
ls()
# Preview data
summary(climateSupport)  # View summary statistics of the data
head(climateSupport)     # View the first few rows of the data
# Convert data format of DV into binary outcome
climateSupport$choice <- ifelse(climateSupport$choice == "Supported", 1, 0)
# Change data format of IVs to unordered factors
climateSupport$countries <- factor(climateSupport$countries, ordered = FALSE)
climateSupport$sanctions <- factor(climateSupport$sanctions, ordered = FALSE)
# Use the relevel function to set the baseline level and fit logistic regression model
climateSupport$countries <- relevel(climateSupport$countries, ref = "20 of 192")
climateSupport$sanctions <- relevel(climateSupport$sanctions, ref = "None")
model <- glm(choice ~ ., family = binomial(link = "logit"), data = climateSupport)
# Output the results of the model
summary(model)
# Create LaTeX table for the model
texreg(model)
